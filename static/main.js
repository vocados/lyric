function callAjax(f,d){var e=new XMLHttpRequest;e.onreadystatechange=function(){4==e.readyState&&200==e.status&&d(JSON.parse(e.responseText))};e.open("GET",f,!0);e.send()}function getList(g,f){if(f){dataProcess(f)}else{callAjax("/json/"+g+".json",function(b){dataProcess(b)})}var d=[],e=0;last==g?d[e++]='<li class="page-item disabled">':d[e++]='<li class="page-item">';d[e++]='  <a class="page-link" href="javascript:;" onclick="getList('+(g+1)+')">Previous</a>';d[e++]="</li>";1==g-1?d[e++]='<li class="page-item disabled">':d[e++]='<li class="page-item">';d[e++]='  <a class="page-link" href="javascript:;" onclick="getList('+(g-1)+')">Next</a>';d[e++]="</li>";$("#paginate").html(d.join(""))}function dataProcess(r){for(var q,p,j,m,o=[],n=0,l=0,i=r.data.length;l<i;l++){m=r.data[l],q=m.url,p=m.subject,j=m.artist||"",m=m.lyric,o[n++]='<div class="card">',o[n++]='\t<h5 class="card-header">'+p+" - "+j+"</h5>",o[n++]='\t<div class="card-body">',o[n++]='\t\t<p class="card-text">',o[n++]=m,o[n++]="\t\t</p>",o[n++]='\t\t<a href="'+q+'" class="btn btn-primary">More</a>',o[n++]="\t</div>",o[n++]="</div>",o[n++]="<br>"}$("#cardlist").html(o.join(""))}var last=-1;$(document).ready(function(){callAjax("/json/last.json",function(a){last=a.last;getList(last,a)})});
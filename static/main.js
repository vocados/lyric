function callAjax(h,d){try{var f=new XMLHttpRequest;f.onreadystatechange=function(){4==f.readyState&&200==f.status&&d(JSON.parse(f.responseText))};f.open("GET",h,!0);f.send()}catch(g){}}function getList(g,f){if(f){dataProcess(f)}else{callAjax("/json/"+g+".json",function(b){dataProcess(b)})}var d=[],e=0;last==g?d[e++]='<li class="page-item disabled">':d[e++]='<li class="page-item">';d[e++]='  <a class="page-link" href="javascript:;" onclick="getList('+(g+1)+')">Previous</a>';d[e++]="</li>";1==g-1?d[e++]='<li class="page-item disabled">':d[e++]='<li class="page-item">';d[e++]='  <a class="page-link" href="javascript:;" onclick="getList('+(g-1)+')">Next</a>';d[e++]="</li>";$("#paginate").html(d.join(""))}function dataProcess(r){for(var q,p,j,m,o=[],n=0,l=0,i=r.data.length;l<i;l++){m=r.data[l],q=m.url,p=m.subject,j=m.artist||"",m=m.lyric,o[n++]='<div class="card">',o[n++]='\t<h5 class="card-header">'+p+" - "+j+"</h5>",o[n++]='\t<div class="card-body">',o[n++]='\t\t<p class="card-text">',o[n++]=m,o[n++]="\t\t</p>",o[n++]='\t\t<a href="'+q+'" class="btn btn-primary">More</a>',o[n++]="\t</div>",o[n++]="</div>",o[n++]="<br>"}$("#cardlist").html(o.join(""))}var last=-1;function loadScript(b,c){var a=document.createElement("script");a.type="text/javascript";a.async=true;if(a.readyState){a.onreadystatechange=function(){if(a.readyState=="loaded"||a.readyState=="complete"){a.onreadystatechange=null;if(c&&typeof c==="function"){c()}}}}else{a.onload=function(){if(c&&typeof c==="function"){c()}}}a.src=b;(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}loadScript("/static/loadCSS.js",function(){loadCSS("/static/all-in-one.css");loadCSS("//fonts.googleapis.com/css?family=Nanum+Brush+Script");loadScript("/static/all-in-one.js",function(){$(document).ready(function(){callAjax("/json/last.json",function(a){last=a.last;getList(last,a)})})})});
function callAjax(c,b){var a=new XMLHttpRequest;a.onreadystatechange=function(){4==a.readyState&&200==a.status&&b(JSON.parse(a.responseText))};a.open("GET",c,!0);a.send()}
function getList(c){callAjax("/json/"+c+".json",function(a){for(var b,c,h,f,d=[],e=0,g=0,k=a.data.length;g<k;g++)f=a.data[g],b=f.url,c=f.subject,h=f.artist||"",f=f.lyric,d[e++]='<div class="card">',d[e++]='\t<h5 class="card-header">'+c+" - "+h+"</h5>",d[e++]='\t<div class="card-body">',d[e++]='\t\t<p class="card-text">',d[e++]=f,d[e++]="\t\t</p>",d[e++]='\t\t<a href="'+b+'" class="btn btn-primary">More</a>',d[e++]="\t</div>",d[e++]="</div>",d[e++]="<br>";$("#cardlist").html(d.join(""))});var b=[],
a=0;last==c?b[a++]='<li class="page-item disabled">':b[a++]='<li class="page-item">';b[a++]='  <a class="page-link" href="javascript:;" onclick="getList('+(c+1)+')">Previous</a>';b[a++]="</li>";1==c-1?b[a++]='<li class="page-item disabled">':b[a++]='<li class="page-item">';b[a++]='  <a class="page-link" href="javascript:;" onclick="getList('+(c-1)+')">Next</a>';b[a++]="</li>";$("#paginate").html(b.join(""))}var last=-1;
$(document).ready(function(){callAjax("/json/last.json",function(c){last=c.last;getList(last)})});